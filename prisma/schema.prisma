generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["referentialIntegrity"]
}

datasource db {
  provider             = "postgres"
  url                  = env("DATABASE_URL")
  referentialIntegrity = "prisma"
}

model ShortUrls {
  id        Int      @id @default(autoincrement())
  uuid      String
  url       String   @db.VarChar(255)
  code      String   @db.VarChar(5)
  hits      Int?
  createdat DateTime @default(now()) @db.Timestamp(6)
  ownerid   Int
  Owners    Owners   @relation(fields: [ownerid], references: [id], onDelete: NoAction, onUpdate: NoAction)
  @@unique(fields: [code], name: "Code")
  @@unique(fields: [uuid], name: "UUID")
}

model Owners {
  id        Int         @id @default(autoincrement())
  email     String      @db.VarChar(255)
  createdat DateTime @default(now()) @db.Timestamp(6)
  ShortUrls ShortUrls[]
}
